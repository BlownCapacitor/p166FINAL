<!--MANDATORY LICSENCE DECLARATION FOR LIGHTBULB MODEL:-->
<!--This work is based on "A Simple Lightbulb" (https://sketchfab.com/3d-models/a-simple-lightbulb-b63f65374f0640f69b3fe7a95e2cbc8b) by Miguel AdÃ£o (https://sketchfab.com/theauditor) licensed under CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/)-->
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8" />
  <title>AR Simple Circuit</title>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="https://raw.githack.com/whitehatjr/ar-gesture-handler/main/index.js"></script>

</head>

<body style="margin : 0px; overflow: hidden;">

  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;trakingMethod:best" vr-mode-ui="enabled: false;">

    <a-assets>
      <a-asset-item id="battery" src="./assets/battery/battery.glb"></a-asset-item>
      <a-asset-item id="bulb" src="./assets/bulb/scene.gltf"></a-asset-item>
      <a-asset-item id="switch" src="./assets/switch/switch.glb"></a-asset-item>
      <img id="currentArrow" src="./assets/arrows/arrow.png">
    </a-assets>

    <a-marker preset="hiro">

      <a-entity id="bulb" position="0 1 -30" gltf-model="#bulb" scale="0.5 0.5 0.5">
      </a-entity>

      <a-entity id="battery" position="-1 0 -30" gltf-model="#battery" rotation="-90 0 0" scale="0.5 0.5 0.5">
      </a-entity>

      <a-entity id="switch" position="1 0 -30" gltf-model="#switch" scale="0.5 0.5 0.5">
      </a-entity>

      <a-entity id="battToBulb"
        animation="property: position; from: -1 0 -30; to: 0 1 -30; easing:linear; loop: true; dur: 1500">
        <a-plane position="0 0 0" rotation="45 0 0" height="0.5" width="0.5" src="#currentArrow">
        </a-plane>
      </a-entity>

      <a-entity id="bulbToSwitch"
      animation="property: position; from:  0 1 -30; to: 1 0 -30; easing:linear; loop: true; dur: 1500">
      <a-plane position="0 0 0" rotation="270 0 0" height="0.5" width="0.5" src="#currentArrow">
      </a-plane>
    </a-entity>

    <a-entity id="switchToBatt"
    animation="property: position; from: 1 0 -30; to: -1 0 -30; easing:linear; loop: true; dur: 1500">
    <a-plane position="0 0 0" rotation="-180 0 0" height="0.5" width="0.5" src="#currentArrow">
    </a-plane>
  </a-entity>
   </a-marker>

  </a-scene>

</body>

</html>